<div modal-page class="confirmation-modal">
  <task-monitor monitor="ctrl.taskMonitor"></task-monitor>
  <form role="form" name="appengineUpsertAutoscalingPolicyForm">
    <modal-close (dismiss)="$dismiss()"></modal-close>
    <div class="modal-header">
      <h3>Edit Autoscaling Policy {{ctrl.serverGroup.name}}</h3>
    </div>
    <div class="modal-body confirmation-modal">
      <div class="form-horizontal">
        <div class="form-group">
          <div class="col-md-4 col-md-offset-1 sm-label-right">
            Min Idle Instances <help-field key="appengine.serverGroup.scalingPolicy.minIdleInstances"></help-field>
          </div>
          <div class="col-md-3">
            <input type="number"
                   name="minIdleInstances"
                   class="form-control input-sm"
                   ng-model="ctrl.minIdleInstances"
                   min="0"
                   required
                   max="{{ctrl.maxIdleInstances}}"/>
          </div>
        </div>
        <div class="form-group">
          <div class="col-md-4 col-md-offset-1 sm-label-right">
            Max Idle Instances <help-field key="appengine.serverGroup.scalingPolicy.maxIdleInstances"></help-field>
          </div>
          <div class="col-md-3">
            <input type="number"
                   class="form-control input-sm"
                   ng-model="ctrl.maxIdleInstances"
                   required
                   min="{{ctrl.minIdleInstances}}"/>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <user-verification account="ctrl.serverGroup.account" verification="ctrl.verification"></user-verification>
      <button class="btn btn-default" ng-click="ctrl.cancel()">Cancel</button>
      <submit-button ng-click="ctrl.submit()" label="Update"
                     is-disabled="appengineUpsertAutoscalingPolicyForm.$invalid || !ctrl.verification.verified"></submit-button>
    </div>
  </form>
</div>
